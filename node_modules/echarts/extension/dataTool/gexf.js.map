{"version":3,"sources":["/node_modules/echarts/extension/dataTool/gexf.js"],"names":[],"mappings":"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","file":"gexf.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\n\n/**\n * This is a parse of GEXF.\n *\n * The spec of GEXF:\n * https://gephi.org/gexf/1.2draft/gexf-12draft-primer.pdf\n */\nimport * as zrUtil from 'zrender/lib/core/util';\nexport function parse(xml) {\n  var doc;\n\n  if (typeof xml === 'string') {\n    var parser = new DOMParser();\n    doc = parser.parseFromString(xml, 'text/xml');\n  } else {\n    doc = xml;\n  }\n\n  if (!doc || doc.getElementsByTagName('parsererror').length) {\n    return null;\n  }\n\n  var gexfRoot = getChildByTagName(doc, 'gexf');\n\n  if (!gexfRoot) {\n    return null;\n  }\n\n  var graphRoot = getChildByTagName(gexfRoot, 'graph');\n  var attributes = parseAttributes(getChildByTagName(graphRoot, 'attributes'));\n  var attributesMap = {};\n\n  for (var i = 0; i < attributes.length; i++) {\n    attributesMap[attributes[i].id] = attributes[i];\n  }\n\n  return {\n    nodes: parseNodes(getChildByTagName(graphRoot, 'nodes'), attributesMap),\n    links: parseEdges(getChildByTagName(graphRoot, 'edges'))\n  };\n}\n\nfunction parseAttributes(parent) {\n  return parent ? zrUtil.map(getChildrenByTagName(parent, 'attribute'), function (attribDom) {\n    return {\n      id: getAttr(attribDom, 'id'),\n      title: getAttr(attribDom, 'title'),\n      type: getAttr(attribDom, 'type')\n    };\n  }) : [];\n}\n\nfunction parseNodes(parent, attributesMap) {\n  return parent ? zrUtil.map(getChildrenByTagName(parent, 'node'), function (nodeDom) {\n    var id = getAttr(nodeDom, 'id');\n    var label = getAttr(nodeDom, 'label');\n    var node = {\n      id: id,\n      name: label,\n      itemStyle: {\n        normal: {}\n      }\n    };\n    var vizSizeDom = getChildByTagName(nodeDom, 'viz:size');\n    var vizPosDom = getChildByTagName(nodeDom, 'viz:position');\n    var vizColorDom = getChildByTagName(nodeDom, 'viz:color'); // let vizShapeDom = getChildByTagName(nodeDom, 'viz:shape');\n\n    var attvaluesDom = getChildByTagName(nodeDom, 'attvalues');\n\n    if (vizSizeDom) {\n      node.symbolSize = parseFloat(getAttr(vizSizeDom, 'value'));\n    }\n\n    if (vizPosDom) {\n      node.x = parseFloat(getAttr(vizPosDom, 'x'));\n      node.y = parseFloat(getAttr(vizPosDom, 'y')); // z\n    }\n\n    if (vizColorDom) {\n      node.itemStyle.normal.color = 'rgb(' + [getAttr(vizColorDom, 'r') | 0, getAttr(vizColorDom, 'g') | 0, getAttr(vizColorDom, 'b') | 0].join(',') + ')';\n    } // if (vizShapeDom) {\n    // node.shape = getAttr(vizShapeDom, 'shape');\n    // }\n\n\n    if (attvaluesDom) {\n      var attvalueDomList = getChildrenByTagName(attvaluesDom, 'attvalue');\n      node.attributes = {};\n\n      for (var j = 0; j < attvalueDomList.length; j++) {\n        var attvalueDom = attvalueDomList[j];\n        var attId = getAttr(attvalueDom, 'for');\n        var attValue = getAttr(attvalueDom, 'value');\n        var attribute = attributesMap[attId];\n\n        if (attribute) {\n          switch (attribute.type) {\n            case 'integer':\n            case 'long':\n              attValue = parseInt(attValue, 10);\n              break;\n\n            case 'float':\n            case 'double':\n              attValue = parseFloat(attValue);\n              break;\n\n            case 'boolean':\n              attValue = attValue.toLowerCase() === 'true';\n              break;\n\n            default:\n          }\n\n          node.attributes[attId] = attValue;\n        }\n      }\n    }\n\n    return node;\n  }) : [];\n}\n\nfunction parseEdges(parent) {\n  return parent ? zrUtil.map(getChildrenByTagName(parent, 'edge'), function (edgeDom) {\n    var id = getAttr(edgeDom, 'id');\n    var label = getAttr(edgeDom, 'label');\n    var sourceId = getAttr(edgeDom, 'source');\n    var targetId = getAttr(edgeDom, 'target');\n    var edge = {\n      id: id,\n      name: label,\n      source: sourceId,\n      target: targetId,\n      lineStyle: {\n        normal: {}\n      }\n    };\n    var lineStyle = edge.lineStyle.normal;\n    var vizThicknessDom = getChildByTagName(edgeDom, 'viz:thickness');\n    var vizColorDom = getChildByTagName(edgeDom, 'viz:color'); // let vizShapeDom = getChildByTagName(edgeDom, 'viz:shape');\n\n    if (vizThicknessDom) {\n      lineStyle.width = parseFloat(vizThicknessDom.getAttribute('value'));\n    }\n\n    if (vizColorDom) {\n      lineStyle.color = 'rgb(' + [getAttr(vizColorDom, 'r') | 0, getAttr(vizColorDom, 'g') | 0, getAttr(vizColorDom, 'b') | 0].join(',') + ')';\n    } // if (vizShapeDom) {\n    //     edge.shape = vizShapeDom.getAttribute('shape');\n    // }\n\n\n    return edge;\n  }) : [];\n}\n\nfunction getAttr(el, attrName) {\n  return el.getAttribute(attrName);\n}\n\nfunction getChildByTagName(parent, tagName) {\n  var node = parent.firstChild;\n\n  while (node) {\n    if (node.nodeType !== 1 || node.nodeName.toLowerCase() !== tagName.toLowerCase()) {\n      node = node.nextSibling;\n    } else {\n      return node;\n    }\n  }\n\n  return null;\n}\n\nfunction getChildrenByTagName(parent, tagName) {\n  var node = parent.firstChild;\n  var children = [];\n\n  while (node) {\n    if (node.nodeName.toLowerCase() === tagName.toLowerCase()) {\n      children.push(node);\n    }\n\n    node = node.nextSibling;\n  }\n\n  return children;\n}"]}